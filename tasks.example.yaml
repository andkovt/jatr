---

# Global variables
vars:
  - name: global_var
    val: "I am global var"

tasks:
  #Task name
  example:
    # Short task description
    desc: Example command with dynamic variables, templating and conditions
    vars:
        # Basic Static Variable
      - name: var1
        value: Hello
        # Variable that is set using shell command
      - name: user
        cmd: whoami
        # Variable uses templating to append two previous variables
      - name: message
        value: "{{ var1 }} {{ user }}"
    actions:
        # Run another task
      - task: dependent_task
        # Logic condition to check if task should continue
      - if: test -f tasks.example.yaml
        # Basic shell command
      - "echo I just want to say {{ message }}"
        # Run shell command using zsh shell
      - cmd:
          cmd: "echo Also... {{ global_var }}"
          shell: zsh

  dependent_task:
    actions:
      - "echo Hello from dependent task"